webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n(1);var o=n(191),a=r(o),u=n(343),l=n(344),c=n(363),i=n(420),s=r(i),d=n(686),f=r(d),p=a["default"].createElement(l.Provider,{store:f["default"]},a["default"].createElement(c.Router,{history:c.hashHistory},s["default"]));(0,u.render)(p,document.getElementById("root"))},420:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(191),a=r(o),u=n(363),l=n(421),c=r(l),i=n(474),s=r(i);t["default"]=a["default"].createElement(u.Route,{component:c["default"],path:"/"},a["default"].createElement(u.IndexRoute,{component:s["default"]}))},421:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(191),a=r(o),u=n(422),l=n(473),c=r(l),i=a["default"].createClass({displayName:"Root",propTypes:(0,u.propTypes)({children:u.t.ReactNode},{strict:!1}),render:function(){return a["default"].createElement("div",null,a["default"].createElement(c["default"],null),this.props.children)}});t["default"]=i},473:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(191),a=r(o),u=a["default"].createClass({displayName:"Header",render:function(){return a["default"].createElement("div",null,a["default"].createElement("span",null,"Shooooort"),a["default"].createElement("span",null,"The url shortener with a long name"))}});t["default"]=u},474:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{codes:e.codes}}function a(e){return{dropCodesCollection:(0,u.pipe)(f["default"],e),getCodesCollection:(0,u.pipe)(_["default"],e),shortenUrl:(0,u.pipe)(E["default"],e)}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(475),l=n(191),c=r(l),i=n(344),s=n(422),d=n(476),f=r(d),p=n(478),_=r(p),S=n(501),E=r(S),y=n(502),m=r(y),C=n(681),h=r(C),v=n(579),O=c["default"].createClass({displayName:"Home",propTypes:(0,s.propTypes)({codes:v.CodesCollection,dropCodesCollection:s.t.Function,getCodesCollection:s.t.Function,shortenUrl:s.t.Function},{strict:!1}),componentWillMount:function(){this.props.getCodesCollection()},render:function(){var e=this.props,t=e.codes,n=e.dropCodesCollection,r=e.shortenUrl;return c["default"].createElement("div",null,c["default"].createElement(h["default"],{onSubmit:r}),c["default"].createElement("h3",null,"Previously shortened by you"),c["default"].createElement("button",{onClick:n},"Clear history"),c["default"].createElement(m["default"],{codes:t}))}});t["default"]=(0,i.connect)(o,a)(O)},476:function(e,t,n){"use strict";function r(){return(0,o.drop)(),{type:a,payload:(0,o.get)()}}Object.defineProperty(t,"__esModule",{value:!0}),t.DROP_CODES_COLLECTION_SUCCESS=void 0,t["default"]=r;var o=n(477),a=t.DROP_CODES_COLLECTION_SUCCESS="DROP_CODES_COLLECTION_SUCCESS"},477:function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return JSON.parse(localStorage.getItem(i)||"{}")}function o(e){localStorage.setItem(i,JSON.stringify(e))}function a(){return r()}function u(e){var t=e.code,a=e.url;o(c({},r(),n({},t,{code:t,url:a})))}function l(){o({})}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.get=a,t.insert=u,t.drop=l;var i="codes"},478:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var u=t[o](a),l=u.value}catch(c){return void n(c)}return u.done?void e(l):Promise.resolve(l).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function a(){var e=this;return function(){var t=o(regeneratorRuntime.mark(function r(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,i.get)(),t({type:s,payload:n}),(0,u.values)(n).forEach(function(e){return t((0,c["default"])(e.code))});case 3:case"end":return e.stop()}},r,e)})),n=e;return function(e){return t.apply(n,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CODES_COLLECTION_SUCCESS=void 0,t["default"]=a;var u=n(475),l=n(479),c=r(l),i=n(477),s=t.GET_CODES_COLLECTION_SUCCESS="GET_CODES_COLLECTION_SUCCESS"},479:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){return(0,a.resolve)().then(function(){return t({type:c,meta:{code:e}}),l["default"].get("/"+e+"/stats")}).then(function(n){t({type:i,payload:n.data,meta:{code:e}})})["catch"](function(n){if(!(n instanceof u.AxiosError))throw n;t({type:s,payload:n,error:!0,meta:{code:e}})})["catch"](function(e){console.error(e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CODE_STATS_ERROR=t.GET_CODE_STATS_SUCCESS=t.GET_CODE_STATS_START=void 0,t["default"]=o;var a=n(480),u=n(482),l=r(u),c=t.GET_CODE_STATS_START="GET_CODE_STATS_START",i=t.GET_CODE_STATS_SUCCESS="GET_CODE_STATS_SUCCESS",s=t.GET_CODE_STATS_ERROR="GET_CODE_STATS_ERROR"},482:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){throw new d(e)}function u(){return f.get.apply(f,arguments)["catch"](a)}function l(){return f.post.apply(f,arguments)["catch"](a)}Object.defineProperty(t,"__esModule",{value:!0}),t.AxiosError=void 0;var c=n(483),i=r(c),s=n(500),d=t.AxiosError=function p(e){o(this,p),this.name="AxiosError",this.err=e},f=i["default"].create({baseURL:s.API_URL,timeout:5e3});t["default"]={get:u,post:l}},500:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API_URL=window.APP_CONFIG.API_URL},501:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){return(0,a.resolve)().then(function(){return t({type:i}),l["default"].post("/shorten",{url:e})}).then(function(n){var r={code:n.data.shortcode,url:e};(0,c.insert)(r),t({type:s,payload:r})})["catch"](function(e){if(!(e instanceof u.AxiosError))throw e;t({type:d,payload:e,error:!0})})["catch"](function(e){console.error(e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTEN_URL_ERROR=t.SHORTEN_URL_SUCCESS=t.SHORTEN_URL_START=void 0,t["default"]=o;var a=n(480),u=n(482),l=r(u),c=n(477),i=t.SHORTEN_URL_START="SHORTEN_URL_START",s=t.SHORTEN_URL_SUCCESS="SHORTEN_URL_SUCCESS",d=t.SHORTEN_URL_ERROR="SHORTEN_URL_ERROR"},502:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(503),a=r(o),u=n(505),l=r(u),c=n(475),i=n(191),s=r(i),d=n(422),f=n(500),p=n(553),_=r(p),S=n(579),E=n(581),y={codeEntry:{".code-entry .click-to-copy-button":{display:"none"},".code-entry:hover .click-to-copy-button":{display:"initial"}}},m=s["default"].createClass({displayName:"CodesList",propTypes:(0,d.propTypes)({codes:S.CodesCollection}),handleClick:function(e){return function(){(0,a["default"])(f.API_URL+"/"+e.code)}},renderCodeEntry:function(e){return s["default"].createElement("tr",{className:"code-entry",key:e.code,onClick:this.handleClick(e)},s["default"].createElement(u.Style,{rules:y.codeEntry}),s["default"].createElement("td",null,s["default"].createElement("div",null,s["default"].createElement("span",null,"shooooort.com/"),s["default"].createElement("span",null,e.code)," ",s["default"].createElement("span",{className:"click-to-copy-button"},"Click to copy this link")),e.url),s["default"].createElement("td",null,s["default"].createElement(_["default"],{error:!!e.errorFetchingStats,loading:e.fetchingStats},s["default"].createElement("span",null,e.stats&&e.stats.redirectCount||0))),s["default"].createElement("td",null,s["default"].createElement(_["default"],{error:!!e.errorFetchingStats,loading:e.fetchingStats},s["default"].createElement("span",null,(0,E.timeago)(e.stats&&e.stats.lastSeenDate)))))},render:function(){return s["default"].createElement("table",null,s["default"].createElement("thead",null,s["default"].createElement("tr",null,s["default"].createElement("th",null,"Link"),s["default"].createElement("th",null,"Visits"),s["default"].createElement("th",null,"Last visited"))),s["default"].createElement("tbody",null,(0,c.values)(this.props.codes).map(this.renderCodeEntry)))}});t["default"]=(0,l["default"])(m)},553:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(554),u=n(191),l=o(u),c=n(422),i=n(577),s=o(i),d=n(578),f=r(d),p=l["default"].createClass({displayName:"AsyncResultWrapper",propTypes:(0,c.propTypes)({children:c.t.maybe(c.t.ReactChildren),loading:c.t.maybe(c.t.Boolean),error:c.t.maybe(c.t.Boolean)}),render:function(){var e=this.props,t=e.children,n=e.error,r=e.loading;return r?l["default"].createElement(a.BeatLoader,{color:f.accent,size:"10px"}):n?l["default"].createElement(s["default"],{color:f.accent,icon:"exclamation-circle"}):l["default"].Children.only(t)}});t["default"]=p},577:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(475),u=n(191),l=r(u),c=n(422),i=l["default"].createClass({displayName:"Icon",propTypes:(0,c.propTypes)({className:c.t.maybe(c.t.String),color:c.t.maybe(c.t.String),icon:c.t.String,onClick:c.t.maybe(c.t.Function),size:c.t.maybe(c.t.String),spin:c.t.maybe(c.t.Boolean),style:c.t.maybe(c.t.Object)}),getDefaultProps:function(){return{color:void 0,onClick:void 0,size:void 0,spin:!1,style:{}}},getClassName:function(){var e=this.props,t=e.className,n=e.icon,r=e.spin;return["fa fa-"+n,r?"fa-spin":void 0,t].filter(a.identity).join(" ")},getStyle:function(){var e=this.props,t=e.color,n=e.onClick,r=e.size,u=e.style;return(0,a.pickBy)(a.identity,o({color:t,cursor:n?"pointer":void 0,fontSize:r},u))},render:function(){var e=this.props.onClick;return l["default"].createElement("i",{className:this.getClassName(),onClick:e,style:this.getStyle()})}});t["default"]=i},578:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.primaryText="#555555",t.secondaryText="#aaaaaa",t.unimportantText="#cccccc",t.disabledButtonText="#bfbfbf",t.disabledButtonBackground="#e0e0e0",t.lightBackgorund="#eaeaea",t.accent="#eb4a42"},579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodesCollection=t.Code=t.URLString=t.ISO8601String=void 0;var r=n(422),o=n(580),a=t.ISO8601String=r.t.refinement(r.t.String,o.isISO8601),u=t.URLString=r.t.refinement(r.t.String,o.isURL),l=t.Code=r.t.struct({code:r.t.String,url:u,fetchingStats:r.t.Boolean,errorFetchingStats:r.t.maybe(r.t.Object),stats:r.t.maybe(r.t.struct({startDate:a,lastSeenDate:a,redirectCount:r.t.Number}))},"Code");t.CodesCollection=r.t.dict(r.t.String,l,"CodesCollection")},581:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,l["default"])(e).fromNow()}function a(e){return(0,c.isURL)(e,{protocols:["http","https"],require_protocol:!0,require_valid_protocol:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.timeago=o,t.urlIsValid=a;var u=n(582),l=r(u),c=n(580)},681:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(191),a=r(o),u=n(682),l=r(u),c=n(422),i=n(581),s=a["default"].createClass({displayName:"UrlForm",propTypes:(0,c.propTypes)({onSubmit:c.t.Function},{strict:!1}),mixins:[l["default"]],getInitialState:function(){return{}},handleSubmit:function(e){e.preventDefault(),this.props.onSubmit(this.state.url),this.replaceState({})},render:function(){return a["default"].createElement("form",{onSubmit:this.handleSubmit},a["default"].createElement("input",{placeholder:"Paste the link you want to shorten here",type:"text",valueLink:this.linkState("url")}),a["default"].createElement("button",{disabled:!(0,i.urlIsValid)(this.state.url),type:"submit"},"Shorten this link"))}});t["default"]=s},686:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(363),a=n(687),u=n(351),l=n(688),c=r(l),i=n(689),s=r(i),d=n(690),f=r(d),p=(0,a.syncHistory)(o.hashHistory),_=(0,u.applyMiddleware)(p,s["default"],(0,c["default"])({collapsed:!0}));t["default"]=(0,u.compose)(_)(u.createStore)(f["default"])},690:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(351),a=n(687),u=n(691),l=r(u);t["default"]=(0,o.combineReducers)({codes:l["default"],routing:a.routeReducer})},691:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1],n=t.type,o=t.payload,d=t.meta;switch(n){case l.DROP_CODES_COLLECTION_SUCCESS:return{};case c.GET_CODES_COLLECTION_SUCCESS:return(0,u.map)(function(e){return a({},e,{fetchingStats:!1,errorFetchingStats:null,stats:null})},o);case i.GET_CODE_STATS_START:return a({},e,r({},d.code,a({},e[d.code],{fetchingStats:!0,errorFetchingStats:null,stats:null})));case i.GET_CODE_STATS_SUCCESS:return a({},e,r({},d.code,a({},e[d.code],{fetchingStats:!1,errorFetchingStats:null,stats:o})));case i.GET_CODE_STATS_ERROR:return a({},e,r({},d.code,a({},e[d.code],{fetchingStats:!1,errorFetchingStats:o,stats:null})));case s.SHORTEN_URL_SUCCESS:return a({},e,r({},o.code,a({},o,{fetchingStats:!1,errorFetchingStats:null,stats:null})));default:return e}}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(475),l=n(476),c=n(478),i=n(479),s=n(501)}});
//# sourceMappingURL=app.js.map