webpackJsonp([0],{0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r(1);var o=r(191),a=n(o),l=r(343),i=r(344),u=r(365),c=r(422),s=n(c),d=r(690),f=n(d),p=a["default"].createElement(i.Provider,{store:f["default"]},a["default"].createElement(u.Router,{history:u.hashHistory},s["default"]));(0,l.render)(p,document.getElementById("root"))},422:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(191),a=n(o),l=r(365),i=r(423),u=n(i),c=r(526),s=n(c);t["default"]=a["default"].createElement(l.Route,{component:u["default"],path:"/"},a["default"].createElement(l.IndexRoute,{component:s["default"]}))},423:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(424),a=n(o),l=r(191),i=n(l),u=r(472),c=r(523),s=n(c),d=r(525),f=n(d),p=r(524),y=n(p),m={root:{body:{margin:"0px",fontFamily:"roboto",fontWeight:300,fontSize:"16px",color:y["default"].primaryText}}},_={root:{width:"622px",position:"absolute",top:"100px",left:"calc(50% - 311px)",marginBottom:"100px"}},h=i["default"].createClass({displayName:"Root",propTypes:(0,u.propTypes)({children:u.t.ReactNode},{strict:!1}),render:function(){return i["default"].createElement("div",{style:_.root},i["default"].createElement(o.Style,{rules:m.root}),i["default"].createElement(s["default"],null),i["default"].createElement(f["default"],{direction:"v",size:45}),this.props.children)}});t["default"]=(0,a["default"])(h)},523:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(191),a=n(o),l=r(524),i=n(l),u={container:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},logo:{fontFamily:"Montserrat",fontSize:"47px",textDecoration:"underline",color:i["default"].accent},motto:{fontSize:"16.5px",color:i["default"].secondaryText,paddingBottom:"10px"}},c=a["default"].createClass({displayName:"Header",render:function(){return a["default"].createElement("div",{style:u.container},a["default"].createElement("div",{style:u.logo},"Shooooort"),a["default"].createElement("div",{style:u.motto},"The url shortener with a long name"))}});t["default"]=c},524:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={primaryText:"#555555",secondaryText:"#aaaaaa",unimportantText:"#cccccc",disabledButtonText:"#bfbfbf",disabledButtonBackground:"#e0e0e0",lightBackgorund:"#eaeaea",accent:"#eb4a42",white:"#ffffff"}},525:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(191),a=n(o),l=r(472),i=a["default"].createClass({displayName:"Spacer",propTypes:(0,l.propTypes)({direction:l.t.enums.of(["h","v"]),size:l.t.Number},{strict:!1}),renderH:function(){return a["default"].createElement("span",{style:{display:"inline-block",width:this.props.size+"px"}})},renderV:function(){return a["default"].createElement("div",{style:{width:"100%",height:this.props.size+"px"}})},render:function(){return"h"===this.props.direction?this.renderH():this.renderV()}});t["default"]=i},526:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{codes:e.codes}}function a(e){return{dropCodesCollection:(0,l.pipe)(f["default"],e),getCodesCollection:(0,l.pipe)(y["default"],e),shortenUrl:(0,l.pipe)(_["default"],e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=r(527),i=r(191),u=n(i),c=r(344),s=r(472),d=r(528),f=n(d),p=r(530),y=n(p),m=r(553),_=n(m),h=r(554),S=n(h),C=r(525),E=n(C),g=r(684),v=n(g),b=r(582),O=r(524),T=n(O),R={listHeadingContainer:{display:"flex",alignItems:"flex-end"},listHeading:{fontSize:"22px"},clearHistoryButton:{border:"0px",backgroundColor:T["default"].white,color:T["default"].accent,fontSize:"16px",cursor:"pointer",paddingBottom:"2px"}},x=u["default"].createClass({displayName:"Home",propTypes:(0,s.propTypes)({codes:b.CodesCollection,dropCodesCollection:s.t.Function,getCodesCollection:s.t.Function,shortenUrl:s.t.Function},{strict:!1}),componentWillMount:function(){this.props.getCodesCollection()},render:function(){var e=this.props,t=e.codes,r=e.dropCodesCollection,n=e.shortenUrl;return u["default"].createElement("div",null,u["default"].createElement(v["default"],{onSubmit:n}),u["default"].createElement(E["default"],{direction:"v",size:75}),u["default"].createElement("div",{style:R.listHeadingContainer},u["default"].createElement("div",{style:R.listHeading},"Previously shortened by you"),u["default"].createElement(E["default"],{direction:"h",size:10}),u["default"].createElement("button",{onClick:r,style:R.clearHistoryButton},"Clear history")),u["default"].createElement(E["default"],{direction:"v",size:50}),u["default"].createElement(S["default"],{codes:t}))}});t["default"]=(0,c.connect)(o,a)(x)},528:function(e,t,r){"use strict";function n(){return(0,o.drop)(),{type:a,payload:(0,o.get)()}}Object.defineProperty(t,"__esModule",{value:!0}),t.DROP_CODES_COLLECTION_SUCCESS=void 0,t["default"]=n;var o=r(529),a=t.DROP_CODES_COLLECTION_SUCCESS="DROP_CODES_COLLECTION_SUCCESS"},529:function(e,t){"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(){return JSON.parse(localStorage.getItem(c)||"{}")}function o(e){localStorage.setItem(c,JSON.stringify(e))}function a(){return n()}function l(e){var t=e.code,a=e.url;o(u({},n(),r({},t,{code:t,url:a})))}function i(){o({})}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.get=a,t.insert=l,t.drop=i;var c="codes"},530:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var l=t[o](a),i=l.value}catch(u){return void r(u)}return l.done?void e(i):Promise.resolve(i).then(function(e){return n("next",e)},function(e){return n("throw",e)})}return n("next")})}}function a(){var e=this;return function(){var t=o(regeneratorRuntime.mark(function n(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,c.get)(),t({type:s,payload:r}),(0,l.values)(r).forEach(function(e){return t((0,u["default"])(e.code))});case 3:case"end":return e.stop()}},n,e)})),r=e;return function(e){return t.apply(r,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CODES_COLLECTION_SUCCESS=void 0,t["default"]=a;var l=r(527),i=r(531),u=n(i),c=r(529),s=t.GET_CODES_COLLECTION_SUCCESS="GET_CODES_COLLECTION_SUCCESS"},531:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){return(0,a.resolve)().then(function(){return t({type:u,meta:{code:e}}),i["default"].get("/"+e+"/stats")}).then(function(r){t({type:c,payload:r.data,meta:{code:e}})})["catch"](function(r){if(!(r instanceof l.AxiosError))throw r;t({type:s,payload:r,error:!0,meta:{code:e}})})["catch"](function(e){console.error(e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CODE_STATS_ERROR=t.GET_CODE_STATS_SUCCESS=t.GET_CODE_STATS_START=void 0,t["default"]=o;var a=r(532),l=r(534),i=n(l),u=t.GET_CODE_STATS_START="GET_CODE_STATS_START",c=t.GET_CODE_STATS_SUCCESS="GET_CODE_STATS_SUCCESS",s=t.GET_CODE_STATS_ERROR="GET_CODE_STATS_ERROR"},534:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){throw new d(e)}function l(){return f.get.apply(f,arguments)["catch"](a)}function i(){return f.post.apply(f,arguments)["catch"](a)}Object.defineProperty(t,"__esModule",{value:!0}),t.AxiosError=void 0;var u=r(535),c=n(u),s=r(552),d=t.AxiosError=function p(e){o(this,p),this.name="AxiosError",this.err=e},f=c["default"].create({baseURL:s.API_URL,timeout:5e3});t["default"]={get:l,post:i}},552:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API_URL=window.APP_CONFIG.API_URL},553:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){return(0,a.resolve)().then(function(){return t({type:c}),i["default"].post("/shorten",{url:e})}).then(function(r){var n={code:r.data.shortcode,url:e};return(0,u.insert)(n),t({type:s,payload:n}),n}).delay(f).then(function(e){t({type:p,payload:e})})["catch"](function(e){if(!(e instanceof l.AxiosError))throw e;t({type:d,payload:e,error:!0})})["catch"](function(e){console.error(e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTENED_URL_AGED=t.SHORTEN_URL_ERROR=t.SHORTEN_URL_SUCCESS=t.SHORTEN_URL_START=void 0,t["default"]=o;var a=r(532),l=r(534),i=n(l),u=r(529),c=t.SHORTEN_URL_START="SHORTEN_URL_START",s=t.SHORTEN_URL_SUCCESS="SHORTEN_URL_SUCCESS",d=t.SHORTEN_URL_ERROR="SHORTEN_URL_ERROR",f=1e4,p=t.SHORTENED_URL_AGED="SHORTENED_URL_AGED"},554:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(555),a=n(o),l=r(424),i=n(l),u=r(527),c=r(191),s=n(c),d=r(472),f=r(552),p=r(557),y=n(p),m=r(525),_=n(m),h=r(582),S=r(524),C=n(S),E=r(584),g={codeEntry:{".code-entry .click-to-copy-button":{display:"none"},".code-entry:hover .click-to-copy-button":{display:"initial"}}},v={listContainer:{tableLayout:"fixed",width:"100%",cursor:"pointer"},baseHeadColumn:{color:C["default"].unimportantText,fontSize:"14px",textTransform:"uppercase"},linkColumnHeader:{textAlign:"left"},visitsHeadColumn:{textAlign:"center",width:"80px"},lastVisitedHeadColumn:{textAlign:"center",width:"120px"},codeEntryContainer:{height:"80px"},newlyCreatedHighlightContainer:{position:"relative"},newlyCreatedHighlightBar:{height:"80px",width:"4px",backgroundColor:C["default"].accent,opacity:0,transition:"opacity 0.5s",position:"absolute",left:"-20px",top:"-20px"},showHiglight:{opacity:1},shortUrlPrefix:{fontWeight:400},shortUrlCode:{fontWeight:400,color:C["default"].accent},clickToCopyButton:{"float":"right",color:C["default"].accent,paddingRight:"30px"},fullUrl:{color:C["default"].unimportantText,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingRight:"30px"},visitsBodyColumn:{textAlign:"center"},lastVisitedBodyColumn:{textAlign:"center"}},b=s["default"].createClass({displayName:"CodesList",propTypes:(0,d.propTypes)({codes:h.CodesCollection}),handleClick:function(e){return function(){(0,a["default"])(f.API_URL+"/"+e.code)}},renderCodeEntry:function(e){var t=e.stats&&e.stats.redirectCount||0,r=0===t?"Never":(0,E.timeago)(e.stats&&e.stats.lastSeenDate);return s["default"].createElement("tr",{className:"code-entry",key:e.code,onClick:this.handleClick(e),style:v.codeEntryContainer},s["default"].createElement("td",null,s["default"].createElement("div",{style:v.newlyCreatedHighlightContainer},s["default"].createElement("div",{style:[v.newlyCreatedHighlightBar,e.newlyCreated?v.showHiglight:null]})),s["default"].createElement("div",null,s["default"].createElement("span",{style:v.shortUrlPrefix},"shooooort.com/"),s["default"].createElement("span",{style:v.shortUrlCode},e.code),s["default"].createElement("span",{className:"click-to-copy-button",style:v.clickToCopyButton},"Click to copy this link")),s["default"].createElement(_["default"],{direction:"v",size:2}),s["default"].createElement("div",{style:v.fullUrl},e.url)),s["default"].createElement("td",{style:v.visitsBodyColumn},s["default"].createElement(y["default"],{error:!!e.errorFetchingStats,loading:e.fetchingStats},s["default"].createElement("span",null,t))),s["default"].createElement("td",{style:v.lastVisitedBodyColumn},s["default"].createElement(y["default"],{error:!!e.errorFetchingStats,loading:e.fetchingStats},s["default"].createElement("span",null,r))))},render:function(){return s["default"].createElement("table",{style:v.listContainer},s["default"].createElement("thead",null,s["default"].createElement("tr",null,s["default"].createElement("th",{style:[v.baseHeadColumn,v.linkColumnHeader]},"link"),s["default"].createElement("th",{style:[v.baseHeadColumn,v.visitsHeadColumn]},"visits"),s["default"].createElement("th",{style:[v.baseHeadColumn,v.lastVisitedHeadColumn]},"last visited"))),s["default"].createElement("tbody",null,s["default"].createElement(l.Style,{rules:g.codeEntry}),(0,u.values)(this.props.codes).map(this.renderCodeEntry)))}});t["default"]=(0,i["default"])(b)},557:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(558),a=r(191),l=n(a),i=r(472),u=r(581),c=n(u),s=r(524),d=n(s),f=l["default"].createClass({displayName:"AsyncResultWrapper",propTypes:(0,i.propTypes)({children:i.t.maybe(i.t.ReactChildren),loading:i.t.maybe(i.t.Boolean),error:i.t.maybe(i.t.Boolean)}),render:function(){var e=this.props,t=e.children,r=e.error,n=e.loading;return n?l["default"].createElement(o.BeatLoader,{color:d["default"].accent,size:"10px"}):r?l["default"].createElement(c["default"],{color:d["default"].accent,icon:"exclamation-circle"}):l["default"].Children.only(t)}});t["default"]=f},581:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(527),l=r(191),i=n(l),u=r(472),c=i["default"].createClass({displayName:"Icon",propTypes:(0,u.propTypes)({className:u.t.maybe(u.t.String),color:u.t.maybe(u.t.String),icon:u.t.String,onClick:u.t.maybe(u.t.Function),size:u.t.maybe(u.t.String),spin:u.t.maybe(u.t.Boolean),style:u.t.maybe(u.t.Object)}),getDefaultProps:function(){return{color:void 0,onClick:void 0,size:void 0,spin:!1,style:{}}},getClassName:function(){var e=this.props,t=e.className,r=e.icon,n=e.spin;return["fa fa-"+r,n?"fa-spin":void 0,t].filter(a.identity).join(" ")},getStyle:function(){var e=this.props,t=e.color,r=e.onClick,n=e.size,l=e.style;return(0,a.pickBy)(a.identity,o({color:t,cursor:r?"pointer":void 0,fontSize:n},l))},render:function(){var e=this.props.onClick;return i["default"].createElement("i",{className:this.getClassName(),onClick:e,style:this.getStyle()})}});t["default"]=c},582:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodesCollection=t.Code=t.URLString=t.ISO8601String=void 0;var n=r(472),o=r(583),a=t.ISO8601String=n.t.refinement(n.t.String,o.isISO8601),l=t.URLString=n.t.refinement(n.t.String,o.isURL),i=t.Code=n.t.struct({code:n.t.String,url:l,fetchingStats:n.t.Boolean,errorFetchingStats:n.t.maybe(n.t.Object),newlyCreated:n.t.Boolean,stats:n.t.maybe(n.t.struct({startDate:a,lastSeenDate:a,redirectCount:n.t.Number}))},"Code");t.CodesCollection=n.t.dict(n.t.String,i,"CodesCollection")},584:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,i["default"])(e||void 0).fromNow()}function a(e){return(0,u.isURL)(e,{protocols:["http","https"],require_protocol:!0,require_valid_protocol:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.timeago=o,t.urlIsValid=a;var l=r(585),i=n(l),u=r(583)},684:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(424),a=n(o),l=r(191),i=n(l),u=r(685),c=n(u),s=r(472),d=r(525),f=n(d),p=r(524),y=n(p),m=r(689),_=n(m),h=r(584),S={container:{display:"flex"},input:{flexGrow:1,border:"0px",borderRadius:_["default"].borderRadiusPx,backgroundColor:y["default"].lightBackgorund,fontSize:"16px",paddingLeft:"20px",paddingRight:"20px",outline:"none"},submitButtonBase:{width:"150px",height:"38px",fontSize:"16px",border:"0px",borderRadius:_["default"].borderRadiusPx},submitButtonDisabled:{backgroundColor:y["default"].disabledButtonBackground,color:y["default"].disabledButtonText,cursor:"not-allowed"},submitButtonEnabled:{backgroundColor:y["default"].accent,color:y["default"].white,cursor:"pointer"}},C=i["default"].createClass({displayName:"UrlForm",propTypes:(0,s.propTypes)({onSubmit:s.t.Function},{strict:!1}),mixins:[c["default"]],getInitialState:function(){return{}},handleSubmit:function(e){e.preventDefault(),this.props.onSubmit(this.state.url),this.replaceState({})},render:function(){var e=(0,h.urlIsValid)(this.state.url);return i["default"].createElement("form",{onSubmit:this.handleSubmit,style:S.container},i["default"].createElement("input",{placeholder:"Paste the link you want to shorten here",style:S.input,type:"text",valueLink:this.linkState("url")}),i["default"].createElement(f["default"],{direction:"h",size:15}),i["default"].createElement("button",{disabled:!e,style:[S.submitButtonBase,e?S.submitButtonEnabled:S.submitButtonDisabled],type:"submit"},"Shorten this link"))}});t["default"]=(0,a["default"])(C)},689:function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{!n&&i["return"]&&i["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(527),l=function(e){var t=o(e,2),r=t[0],n=t[1];return[r+"Px",n+"px"]},i=(0,a.pipe)(a.toPairs,(0,a.map)(l),a.fromPairs),u={borderRadius:3};t["default"]=n({},u,i(u))},690:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(365),a=r(691),l=r(350),i=r(692),u=n(i),c=r(693),s=n(c),d=r(694),f=n(d),p=(0,a.syncHistory)(o.hashHistory),y=(0,l.applyMiddleware)(p,s["default"],(0,u["default"])({collapsed:!0}));t["default"]=(0,l.compose)(y)(l.createStore)(f["default"])},694:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(350),a=r(691),l=r(695),i=n(l);t["default"]=(0,o.combineReducers)({codes:i["default"],routing:a.routeReducer})},695:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1],r=t.type,o=t.payload,d=t.meta;switch(r){case i.DROP_CODES_COLLECTION_SUCCESS:return{};case u.GET_CODES_COLLECTION_SUCCESS:return(0,l.map)(function(e){return a({},e,{fetchingStats:!1,errorFetchingStats:null,newlyCreated:!1,stats:null})},o);case c.GET_CODE_STATS_START:return a({},e,n({},d.code,a({},e[d.code],{fetchingStats:!0,errorFetchingStats:null,stats:null})));case c.GET_CODE_STATS_SUCCESS:return a({},e,n({},d.code,a({},e[d.code],{fetchingStats:!1,errorFetchingStats:null,stats:o})));case c.GET_CODE_STATS_ERROR:return a({},e,n({},d.code,a({},e[d.code],{fetchingStats:!1,errorFetchingStats:o,stats:null})));case s.SHORTEN_URL_SUCCESS:return a({},e,n({},o.code,a({},o,{fetchingStats:!1,errorFetchingStats:null,newlyCreated:!0,stats:null})));case s.SHORTENED_URL_AGED:return a({},e,n({},o.code,a({},e[o.code],{newlyCreated:!1})));default:return e}}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var l=r(527),i=r(528),u=r(530),c=r(531),s=r(553)}});
//# sourceMappingURL=app.js.map